<div class="map-template-container">
  <div
    class="map-left-block">
    <ul class="map-controls-list">
      <li>
        <button
          class="map-controls-btn"
          title="Zoom in"
          (click)="zoomIn('in', $event)">
          <img src="assets/icons/plus.png">
        </button>
      </li>
      <li>
        <button
          class="map-controls-btn"
          title="Home"
          (click)="recenterMap(map, centeringLayer, $event)">
          <img src="assets/icons/home.png">
        </button>
      </li>
      <li>
        <button
          class="map-controls-btn"
          title="Zoom out"
          (click)="zoomIn('out', $event)">
          <img src="assets/icons/minus.png">
        </button>
      </li>
    </ul>
    <div class="map-layers-block">
      <button
        class="map-layers-btn"
        (mouseenter)="toggleLegendContainerView()">
        <img src="assets/icons/layers.png">
      </button>
    </div>
  </div>
  <div
    *ngIf="!loading&&legendIsOpen"
    class="legendContainer"
    (mouseleave)="closeMapLegend('leave')"
  >

    <app-visualization-legend
      [mapVsualizationObject]="visualizationObject"
      (updateMapLayers)="updateMapLayers($event)"
      (changeMapTileLayer)="changeMapTileLayer($event)"
      (stickyLegend)="stickyMapLegend($event)"
      (downloadMapAsFiles)="downloadMapAsFiles($event)"
      (closeLegend)="closeMapLegend()"
      (layerDnDAction)="dragAndDropHandler($event)"
      (showDataTable)="drawMapDataTable($event)"
      (newLayerEvent)="addNewLayer($event)"
      (fileUploadEvent)="processFileUpload($event)"
    ></app-visualization-legend>
  </div>

  <div class="map-title-holder">
    <div class="map-inner-holder">
      <h4
        class="forViewOnly"
        style="margin-top: 2px;"
      >
        {{visualizationObject?.name}}
      </h4>
    </div>
    <br>
    <div class="map-inner-holder" style="margin-top: 2px;">
      <h6
        style="font-size: 12px; margin-top: 2px; margin-bottom: 2px;"
        *ngIf="visualizationObject.subtitle"
      >
        {{visualizationObject?.subtitle}}
      </h6>
    </div>
  </div>

  <div
    id="map-view-port-{{visualizationObject.id}}"
    class="map-drawing-area"
    [ngClass]="{hide: visualizationObject.details.loading||hasError}"
       style="width:100%;"
  ></div>
  <!-- MAP TABLE SECTION -->
  <div class="map-data-table"
       [ngStyle]="{zIndex:2000,marginLeft:'0px',padding:'5px',fontSize:'10px'}"
       [ngClass]="{hide: loading||hasError,screenMaxWidth:isFullScreen,screenMinWidth:!isFullScreen}" *ngIf="!hideTable">

    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:2px!important;">
      <div  style="padding-left: 0px!important;" class=" col-lg-11 col-md-11 col-xs-11">
        <div style=""><h4 style="font-size: 13px !important;font-weight:bold;">{{visualizationObject.name}}</h4></div>
      </div>
      <div class=" col-lg-1 col-md-1 col-xs-1 pull-right" style="padding-right: 0px!important;">
        <div style=""><a (click)="hideDataTable()" class="btn btn-default btn-default-updated btn-sm  pull-right"><i
          class="fa fa-remove"></i></a></div>
      </div>
    </div>
    <div class="col-lg-12 col-md-12 col-xs-12" style="padding:2px!important;">
      <app-map-table [tableContents]="mapTable"></app-map-table>
    </div>
  </div>
</div>
