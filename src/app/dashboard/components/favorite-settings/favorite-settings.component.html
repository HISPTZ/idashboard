<h4>Update Visualization Options</h4>
<ul class="nav nav-tabs">
  <li class="{{activeSetting == setting.id ? 'active': ''}}" *ngFor="let setting of visualizationSettings">
    <a (click)="activeSetting = setting.id" title="{{setting.name}}" *ngIf="setting.name">{{setting.name | truncate:15}}</a>
    <a (click)="activeSetting = setting.id" *ngIf="!setting.name">Untitled</a>
  </li>
</ul>
<div class="row" *ngIf="visualizationType === 'TABLE'">
  <div class="col-md-12" *ngFor="let setting of visualizationSettings">
    <ul class="list-unstyled">
      <li><div class="checkbox"><label><input type="checkbox" value=""> Show column totals</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show row totals</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show column sub-totals</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show row sub-totals</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show column average</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show row average</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show row average</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" value="">  Show dimension labels</label></div></li>
    </ul>
  </div>
</div>
<div class="row" *ngIf="visualizationType === 'CHART'">
  <div class="col-md-12" *ngFor="let setting of visualizationSettings;">
    <ul class="list-unstyled" *ngIf="activeSetting === setting.id">
      <li><h4>Data</h4></li>
      <li><div class="checkbox"><label><input type="checkbox" [(ngModel)]="setting.showData"> Show Values</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" [(ngModel)]="setting.cumulativeValues">  Use cumulative values</label></div></li>
      <li>
        <div class="form-group">
          Aggregation type
          <select [(ngModel)]="setting.aggregationType" class="form-control" id="">
            <option value="DEFAULT">Default</option>
            <option value="SUM">Sum</option>
            <option value="AVERAGE">Average</option>
            <option value="COUNT">Count</option>
            <option value="STDDEV">Standard Deviation</option>
            <option value="VARIANCE">Variance</option>
            <option value="MIN">Min</option>
            <option value="MAX">Max</option>
          </select>
        </div>
      </li>
      <li><h4>General</h4></li>
      <li><div class="checkbox"><label><input type="checkbox" [(ngModel)]="setting.hideLegend"> Hide chart legend</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" [(ngModel)]="setting.hideTitle">  Hide chart title</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" [(ngModel)]="setting.hideSubtitle">  Hide chart subtitle</label></div></li>
      <li><div class="checkbox"><label><input type="checkbox" [(ngModel)]="setting.useMultipleAxis">   Use multiple axis</label></div></li>
      <li *ngIf="setting.useMultipleAxis">
        <!--<div class="form-group">-->
          <!--Axis criteria-->
          <!--<select [(ngModel)]="setting.axisCriteria" class="form-control" id="">-->
            <!--<option value="dx">Data</option>-->
            <!--<option value="pe">Period</option>-->
            <!--<option value="ou">Organisation unit</option>-->
          <!--</select>-->
        <!--</div>-->
        <div class="form-group" style="position: relative;">
          Chart types <br>
          <button (click)="showChartTypes = !showChartTypes" class="btn btn-default btn-block" style="text-align: left;">
            <span *ngIf="setting.selectedChartTypes.length === 0">Select chart types</span>
            <span class="btn btn-default btn-xs" style="margin-right: 2px;" *ngFor="let selectedChartType of setting.selectedChartTypes">{{selectedChartType.name}}</span>
            <i class="fa fa-caret-down pull-right" style="margin-top: 0px; font-size: 20px;"></i>
          </button>
          <ul class="chart-type-dropdown" *ngIf="showChartTypes">
            <li class="{{chartType.selected ? 'active': ''}}" *ngFor="let chartType of chartTypes">
              <a (click)="toggleChartSelection(chartType, setting.id)">{{chartType.name}}</a>
            </li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
</div>
<!--<table class="table table-condensed">-->
  <!--<thead>-->
  <!--<tr>-->
    <!--<th>Key</th>-->
    <!--<th>Value</th>-->
    <!--<th></th>-->
  <!--</tr>-->
  <!--</thead>-->
  <!--<tbody>-->
  <!--<tr *ngFor="let favoriteOption of favoriteOptions; let i = index" class="option-input">-->
    <!--<td><input type="text" [(ngModel)]="favoriteOption.key" autofocus></td>-->
    <!--<td><input type="text" [(ngModel)]="favoriteOption.value"></td>-->
    <!--<td><a (click)="removeOption(i)"><i class="fa fa-times"></i></a></td>-->
  <!--</tr>-->
  <!--<tr>-->
    <!--<td colspan="3">-->
      <!--<a (click)="addOption()" class="btn btn-default btn-xs">Add option</a>-->
    <!--</td>-->
  <!--</tr>-->
  <!--</tbody>-->
<!--</table>-->
<div class="row">
  <div class="col-md-6">
    <button (click)="updateVisualizationSettings()" class="btn btn-default btn-sm btn-block">Update Options</button>
  </div>
  <div class="col-md-6"><button (click)="close()" class="btn btn-default btn-sm btn-block">Cancel</button></div>
</div>
