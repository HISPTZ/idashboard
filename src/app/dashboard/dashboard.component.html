<!--Header-->
<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 col-sm-3" *ngIf="dashboardConfig.showName">
      <h4>{{dashboardName$ | async}}</h4>
    </div>
    <div class="col-md-5 col-sm-5" *ngIf="dashboardConfig.showSearch">
      <app-dashboard-item-search></app-dashboard-item-search>
    </div>
    <div class="col-md-4 col-sm-4" *ngIf="dashboardConfig.showNotification">
      <app-dashboard-notification-area></app-dashboard-notification-area>
    </div>
  </div>
</div>
<!--End of Header-->

<!--Dashboard Menus-->
<app-dashboard-menu
  (onFilterUpdate)="updateFilters($event)"
></app-dashboard-menu>
<!--End of Dashbaord Menus-->

<!--global filter-->
<!--<div class="container-fluid">-->
  <!--<div class="row">-->
    <!--<div class="col-md-12">-->
      <!--<div class="panel panel-default">-->
        <!--<div class="panel-body">-->
          <!--<div class="row">-->
            <!--<div class="col-md-4">-->
              <!--<app-layout></app-layout>-->
              <!--&lt;!&ndash;<app-data-filter></app-data-filter>&ndash;&gt;-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
             <!--<app-org-unit-filter></app-org-unit-filter>-->
            <!--</div>-->
            <!--<div class="col-md-4">-->
              <!--<app-period-filter></app-period-filter>-->
            <!--</div>-->
          <!--</div>-->
        <!--</div>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->
<!--end of global filter-->

<!--Progress message component-->
<app-progress></app-progress>
<!--end of progress message component-->

<!--Dashboard Items-->
<div class="container-fluid">
  <!--<app-loader *ngIf="loading" [loadingMessage]="'Moving dashboards into position'"></app-loader>-->
  <div
    class="row"
    *ngIf="(visualizationObjects$ | async).length > 0"
    id="{{dashboardId}}"
    [dragula]="'bag'"
    [dragulaModel]="(visualizationObjects$ | async)"
  >
    <div
      [attr.data_id]="visualizationObject.id"
      [attr.data_index]="i"
      *ngFor="let visualizationObject of (visualizationObjects$ | async); let i = index"
    >
      <app-dashboard-item-card
        [globalFilters]="globalFilters"
        (onFilterDeactivate)="updateFilters($event)"
        [visualizationObject]="visualizationObject"
      >
      </app-dashboard-item-card>
    </div>
  </div>

  <div class="row" *ngIf="(visualizationObjects$ | async).length === 0">
    <div class="col-md-12">
      <div class="row">
        <div class="col-md-12 text-center">
          <h2><b>{{welcomingTitle}}</b></h2>
          <h4 [innerHtml]="welcomingDescription"></h4>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <app-loader
        [loadingMessage]="'Loading Dashboards'"
        *ngIf="!(dashboardLoaded$ | async)"
      ></app-loader>
    </div>
  </div>
</div>
<!--End of Dashboard Items-->


