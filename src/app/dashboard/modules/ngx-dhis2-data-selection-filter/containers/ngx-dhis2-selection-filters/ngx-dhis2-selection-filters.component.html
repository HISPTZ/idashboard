<div class="selection-filter-container">
  <!--selection filter header-->
  <div class="selection-filter-header">
    <button class="selection-filter-btn filter-control-btn" (click)="toggleFilters($event)" [title]="'Filter by different dimensions' | translate">
      <img [src]="filterIcon" alt="">
      <img [src]="showFilters ? arrowLeftIcon : arrowRightIcon" alt="">
    </button>
    <div class="selection-filter-btn-list" *ngIf="showFilters">
      <!--data filter button-->
      <button *ngIf="filterConfig?.showDataFilter" [ngClass]="{
        'selection-filter-btn': true,
        'active-filter': _selectedFilter === 'DATA'
        }"
        [title]="'Filter by data' | translate" (click)="toggleCurrentFilter($event, 'DATA')">
        <img [src]="dataIcon" alt="">&nbsp;{{'Data' | translate}}&nbsp;
        <img [ngClass]="{'arrow-up': _selectedFilter === 'DATA'}" [src]="arrowDownIcon" alt="">
      </button>
      <!--end of data filter button-->
      <!--Legend configuration button-->
      <span *ngIf="currentVisualizationType && currentVisualizationType ==='TABLE'">
        <button *ngIf="filterConfig?.showDataFilter" [ngClass]="{'selection-filter-btn': true,'active-filter': _selectedFilter === 'LEGEND_CONFIGURATION' }"
          [title]="'Configure legend' | translate" (click)="toggleCurrentFilter($event, 'LEGEND_CONFIGURATION')">
          <img [src]="dataIcon" alt="">&nbsp;{{'Legend Configration' | translate}}&nbsp;
          <img [ngClass]="{'arrow-up': _selectedFilter === 'LEGEND_CONFIGURATION'}" [src]="arrowDownIcon" alt="">
        </button>
      </span>
      <!--end of Legend configuration button-->
      <!--period filter button-->
      <button *ngIf="filterConfig?.showPeriodFilter" [ngClass]="{
        'selection-filter-btn': true,
        'active-filter': _selectedFilter === 'PERIOD_REF'
        }"
        [title]="'Filter by period' | translate" (click)="toggleCurrentFilter($event, 'PERIOD_REF')">
        <img [src]="periodIcon" alt="">&nbsp;{{'Reference Period' | translate}}&nbsp;
        <img [ngClass]="{'arrow-up': _selectedFilter === 'PERIOD_REF'}" [src]="arrowDownIcon" alt="">
      </button>
      <!--end of period filter button-->
      <!--period filter button-->
      <button *ngIf="filterConfig?.showPeriodFilter" [ngClass]="{
        'selection-filter-btn': true,
        'active-filter': _selectedFilter === 'PERIOD_ACTUAL'
        }"
        [title]="'Filter by period' | translate" (click)="toggleCurrentFilter($event, 'PERIOD_ACTUAL')">
        <img [src]="periodIcon" alt="">&nbsp;{{'Actual Period' | translate}}&nbsp;
        <img [ngClass]="{'arrow-up': _selectedFilter === 'PERIOD_ACTUAL'}" [src]="arrowDownIcon" alt="">
      </button>
      <!--end of period filter button-->

      <!--org unit filter button-->
      <button *ngIf="filterConfig?.showOrgUnitFilter" [ngClass]="{
        'selection-filter-btn': true,
        'active-filter': _selectedFilter === 'ORG_UNIT'
        }"
        [title]="'Filter by organisation unit' | translate" (click)="toggleCurrentFilter($event, 'ORG_UNIT')">
        <img [src]="orgUnitIcon" alt="">&nbsp;{{'Org-Unit' | translate}}&nbsp;
        <img [ngClass]="{'arrow-up': _selectedFilter === 'ORG_UNIT'}" [src]="arrowDownIcon" alt="">
      </button>

      <button *ngIf="filterConfig?.showLayout" [ngClass]="{
        'selection-filter-btn': true,
        'active-filter': _selectedFilter === 'LAYOUT'
        }"
        [title]="'Layout' | translate" (click)="toggleCurrentFilter($event, 'LAYOUT')">
        <img [src]="orgUnitIcon" alt="">&nbsp;{{'Layout' | translate}}&nbsp;
        <img [ngClass]="{'arrow-up': _selectedFilter === 'LAYOUT'}" [src]="arrowDownIcon" alt="">
      </button>
      <!--end of org unit filter button-->

      <!--selections update button-->
      <!--<button-->
      <!--class="selection-filter-btn"-->
      <!--[title]="'Update' | translate"-->
      <!--&gt;-->
      <!--<img src="assets/icon/tick.png" alt="">-->
      <!--</button>-->
      <!--end of selections update button-->
    </div>
  </div>
  <!--end of selection filter header-->

  <!--selection filter body-->
  <div class="selection-filter-body" *ngIf="_selectedFilter !== '' && showFilterBody">
    <!--data filter-->
    <app-data-mapping *ngIf="_selectedFilter === 'DATA'" [selectedItems]="selectedData" (dataFilterClose)="onFilterClose($event, 'DATA')"
      (dataFilterUpdate)="onFilterUpdate($event, 'DATA')"></app-data-mapping>

    <app-legend-set-configuration *ngIf="_selectedFilter === 'LEGEND_CONFIGURATION'" [visualizationLayerId]="visualizationLayerId"
      [selectedItems]="selectedData" (legendSetConfigurationClose)="onFilterClose($event, 'LEGEND_CONFIGURATION')"
      (legendSetConfigurationClose)="onFilterUpdate($event, 'LEGEND_CONFIGURATION')"></app-legend-set-configuration>


    <!-- <app-data-filter *ngIf="_selectedFilter === 'DATA'" [selectedItems]="selectedData" (dataFilterClose)="onFilterClose($event, 'DATA')"
      (dataFilterUpdate)="onFilterUpdate($event, 'DATA')"></app-data-filter> -->
    <!--end of data filter-->
    <!--period filter-->
    <app-period-filter *ngIf="_selectedFilter === 'PERIOD_REF'" [selectedPeriods]="selectedReferencePeriods"
      (periodFilterClose)="onFilterClose($event, 'PERIOD_REF')" (periodFilterUpdate)="onFilterUpdate($event, 'PERIOD_REF')"></app-period-filter>
    <!--end of period filter-->

    <!--period filter-->
    <app-period-filter *ngIf="_selectedFilter === 'PERIOD_ACTUAL'" [selectedPeriods]="selectedActualPeriods"
      (periodFilterClose)="onFilterClose($event, 'PERIOD_ACTUAL')" (periodFilterUpdate)="onFilterUpdate($event, 'PERIOD_ACTUAL')"></app-period-filter>
    <!--end of period filter-->

    <!--org unit filter-->
    <ngx-dhis2-org-unit-filter *ngIf="_selectedFilter === 'ORG_UNIT'" [selectedOrgUnitItems]="selectedOrgUnits"
      (orgUnitClose)="onFilterClose($event, 'ORG_UNIT')" (orgUnitUpdate)="onFilterUpdate($event, 'ORG_UNIT')"></ngx-dhis2-org-unit-filter>
    <!--end of org unit filter-->

    <app-layout [layoutModel]="layoutItem" *ngIf="_selectedFilter === 'LAYOUT'" (onLayoutUpdate)="onFilterUpdate($event, 'LAYOUT')"
      (onLayoutClose)="onFilterClose($event, 'LAYOUT')"></app-layout>
  </div>
  <!--end of selection filter body-->
</div>
